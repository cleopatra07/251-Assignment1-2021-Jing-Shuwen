package myTextEditorTest;

import static org.junit.jupiter.api.Assertions.*;

import java.io.File;
import java.io.IOException;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import myTextEditor.FileMenu;
import myTextEditor.TextEditor;



class OpenTest {
	 TextEditor textEditor ;
	 FileMenu fm ;
	 File file;
	
	
	 //test file stores in test/resources folder.
	 //with text message "Hello World"
	 //set textarea to null before each test.
	@BeforeEach
	public void setUp() throws Exception {
		textEditor = new TextEditor();
		fm = new FileMenu ();	
		TextEditor.textArea.setText("");
		
	}
	
	
	// set textArea to null after each test.
	@AfterEach
	public void tearDown() {
		TextEditor.textArea.setText("");
	}
	
	// the title of the Window should be filename: TestFile.txt
	// file content should be rendered to text area.
	@Test
	public void testOpen() throws IOException {		
		// test on text file
		file = new File(new File("src/test/resources/TestFile.txt").getAbsolutePath());
		assertTrue(file.exists());	
		fm.openFile(file);
		assertEquals(TextEditor.frame.getTitle(), "TestFile.txt");
		assertEquals(TextEditor.textArea.getText().trim(),"Hello World");
		
		//test on RTF file
		file = new File(new File("src/test/resources/RTFExampleFile.rtf").getAbsolutePath());
		assertTrue(file.exists());		
		fm.openFile(file);
		assertEquals(TextEditor.frame.getTitle(), "RTFExampleFile.rtf");
		assertEquals(TextEditor.textArea.getText().trim(),"1.RTF Example File \n"
				+ "2.RTF Example File \n"
				+ "3.RTF Example File");
			
			
	}


	
}
